<!-- Page Header -->
<div class="page-header">
  <h2>Employees</h2>

  <button mat-raised-button color="primary" (click)="addEmployee()">
    <mat-icon>add</mat-icon>
    Add Employee
  </button>
</div>

<!-- Search -->
<mat-form-field appearance="outline" class="search-box">
  <mat-label>Search employees</mat-label>

  <mat-icon matPrefix>search</mat-icon>

  <input
    matInput
    [(ngModel)]="search"
    (keyup)="onSearchKeyup()"
    placeholder="Type at least 3 characters"
  >

  <!-- Click search icon -->
  <button
    mat-icon-button
    matSuffix
    *ngIf="search"
    (click)="onSearch()">
    <mat-icon>arrow_forward</mat-icon>
  </button>
</mat-form-field>

<!-- Table + Pagination -->
<div class="table-container">

  <!-- Pagination (top) -->
  <mat-paginator
    [length]="total"
    [pageSize]="5"
    [pageSizeOptions]="[5]"
    (page)="onPageChange($event)">
  </mat-paginator>

  <!-- Table -->
  <table mat-table [dataSource]="employees" class="mat-elevation-z2">

    <!-- Name -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let e">{{ e.name }}</td>
    </ng-container>

    <!-- Email -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let e">{{ e.email }}</td>
    </ng-container>

    <!-- Department -->
    <ng-container matColumnDef="department">
      <th mat-header-cell *matHeaderCellDef>Department</th>
      <td mat-cell *matCellDef="let e">{{ e.department }}</td>
    </ng-container>

    <!-- Actions -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let e">
        <button mat-icon-button color="primary" (click)="editEmployee(e.id)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteEmployee(e.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['name','email','department','actions']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['name','email','department','actions'];"></tr>

  </table>

</div>
